<div *ngIf="visible" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg shadow-lg p-6 w-full max-w-md">
    <h2 class="text-lg font-bold mb-4">
      {{ modo === 'add' ? 'Agregar Categoría' : (modo === 'edit' ? 'Editar Categoría' : 'Eliminar Categoría') }}
    </h2>
    <ng-container [ngSwitch]="modo">
      <form *ngSwitchCase="'add'" (ngSubmit)="onSave()">
        <div class="mb-4">
          <label class="block text-gray-700 font-medium mb-1">Nombre</label>
          <input class="border rounded px-2 py-1 w-full" [(ngModel)]="categoria.nombre" name="nombre" required />
        </div>
        <div class="mb-4">
          <label class="block text-gray-700 font-medium mb-1">Descripción</label>
          <textarea class="border rounded px-2 py-1 w-full" [(ngModel)]="categoria.descripcion" name="descripcion" rows="3"></textarea>
        </div>
        <div class="flex justify-end gap-2">
          <button type="button" class="bg-gray-300 px-4 py-1 rounded" (click)="onClose()">Cancelar</button>
          <button type="submit" class="bg-green-600 text-white px-4 py-1 rounded">Agregar</button>
        </div>
      </form>
      <form *ngSwitchCase="'edit'" (ngSubmit)="onSave()">
        <div class="mb-4">
          <label class="block text-gray-700 font-medium mb-1">Nombre</label>
          <input class="border rounded px-2 py-1 w-full" [(ngModel)]="categoria.nombre" name="nombre" required />
        </div>
        <div class="mb-4">
          <label class="block text-gray-700 font-medium mb-1">Descripción</label>
          <textarea class="border rounded px-2 py-1 w-full" [(ngModel)]="categoria.descripcion" name="descripcion" rows="3"></textarea>
        </div>
        <div class="flex justify-end gap-2">
          <button type="button" class="bg-gray-300 px-4 py-1 rounded" (click)="onClose()">Cancelar</button>
          <button type="submit" class="bg-blue-600 text-white px-4 py-1 rounded">Guardar</button>
        </div>
      </form>
      <div *ngSwitchCase="'delete'">
        <p class="mb-6">¿Seguro que deseas eliminar la categoría <b>{{categoria.nombre}}</b>?</p>
        <div class="flex justify-end gap-2">
          <button class="bg-gray-300 px-4 py-1 rounded" (click)="onClose()">Cancelar</button>
          <button class="bg-red-600 text-white px-4 py-1 rounded" (click)="onDelete()">Eliminar</button>
        </div>
      </div>
    </ng-container>
  </div>
</div>
