<div *ngIf="visible" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg shadow-lg p-6 w-full max-w-lg">
    <h2 class="text-lg font-bold mb-4">
      {{ modo === 'add' ? 'Agregar Secretario' : (modo === 'edit' ? 'Editar Secretario' : 'Eliminar Secretario') }}
    </h2>
    <ng-container [ngSwitch]="modo">
      <!-- FORMULARIO AGREGAR -->
      <form *ngSwitchCase="'add'" (ngSubmit)="onSave()" autocomplete="off">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-gray-700 font-medium mb-1">Nombre *</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.nombre" name="nombre" required />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Apellido *</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.apellido" name="apellido" required />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Nombre de usuario *</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.nombreUsuario" name="nombreUsuario" required />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Email *</label>
            <input type="email" class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.email" name="email" required />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Teléfono *</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.telefono" name="telefono" required />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Teléfono móvil</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.telefonoMovil" name="telefonoMovil" />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Domicilio</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.domicilio" name="domicilio" />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Ciudad</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.ciudad" name="ciudad" />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Estado</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.estado" name="estado" />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Código postal</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.codigoPostal" name="codigoPostal" />
          </div>
          <div class="md:col-span-2">
            <label class="block text-gray-700 font-medium mb-1">Notas</label>
            <textarea class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.notas" name="notas" rows="2"></textarea>
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Calendario</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.calendario" name="calendario" />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Idioma</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.idioma" name="idioma" />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Zona horaria</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.zonaHoraria" name="zonaHoraria" />
          </div>
          <div class="md:col-span-2 flex items-center gap-2">
            <input type="checkbox" [(ngModel)]="secretario.recibirNotificaciones" name="recibirNotificaciones" id="recibirNotificaciones" />
            <label for="recibirNotificaciones" class="text-gray-700 font-medium">Recibir notificaciones</label>
          </div>
        </div>
        <div class="flex justify-end gap-2 mt-6">
          <button type="button" class="bg-gray-300 px-4 py-1 rounded" (click)="onClose()">Cancelar</button>
          <button type="submit" class="bg-green-600 text-white px-4 py-1 rounded">Agregar</button>
        </div>
      </form>
      <!-- FORMULARIO EDITAR -->
      <form *ngSwitchCase="'edit'" (ngSubmit)="onSave()" autocomplete="off">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <!-- Puedes copiar y pegar los campos del formulario 'add' aquí -->
          <div>
            <label class="block text-gray-700 font-medium mb-1">Nombre *</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.nombre" name="nombre" required />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Apellido *</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.apellido" name="apellido" required />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Nombre de usuario *</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.nombreUsuario" name="nombreUsuario" required />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Email *</label>
            <input type="email" class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.email" name="email" required />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Teléfono *</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.telefono" name="telefono" required />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Teléfono móvil</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.telefonoMovil" name="telefonoMovil" />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Domicilio</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.domicilio" name="domicilio" />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Ciudad</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.ciudad" name="ciudad" />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Estado</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.estado" name="estado" />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Código postal</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.codigoPostal" name="codigoPostal" />
          </div>
          <div class="md:col-span-2">
            <label class="block text-gray-700 font-medium mb-1">Notas</label>
            <textarea class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.notas" name="notas" rows="2"></textarea>
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Calendario</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.calendario" name="calendario" />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Idioma</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.idioma" name="idioma" />
          </div>
          <div>
            <label class="block text-gray-700 font-medium mb-1">Zona horaria</label>
            <input class="border rounded px-2 py-1 w-full" [(ngModel)]="secretario.zonaHoraria" name="zonaHoraria" />
          </div>
          <div class="md:col-span-2 flex items-center gap-2">
            <input type="checkbox" [(ngModel)]="secretario.recibirNotificaciones" name="recibirNotificaciones" id="recibirNotificacionesEdit" />
            <label for="recibirNotificacionesEdit" class="text-gray-700 font-medium">Recibir notificaciones</label>
          </div>
        </div>
        <div class="flex justify-end gap-2 mt-6">
          <button type="button" class="bg-gray-300 px-4 py-1 rounded" (click)="onClose()">Cancelar</button>
          <button type="submit" class="bg-blue-600 text-white px-4 py-1 rounded">Guardar</button>
        </div>
      </form>
      <!-- CONFIRMACIÓN ELIMINAR -->
      <div *ngSwitchCase="'delete'">
        <p class="mb-6">¿Seguro que deseas eliminar al secretario <b>{{secretario.nombre}} {{secretario.apellido}}</b>?</p>
        <div class="flex justify-end gap-2">
          <button class="bg-gray-300 px-4 py-1 rounded" (click)="onClose()">Cancelar</button>
          <button class="bg-red-600 text-white px-4 py-1 rounded" (click)="onDelete()">Eliminar</button>
        </div>
      </div>
    </ng-container>
  </div>
</div>
